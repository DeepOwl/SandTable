<mat-card>
<mat-card-header>
  <mat-card-title>
    <h2 *ngIf="!editingName" (click)="editingName=true">{{entity.name}}</h2>
    <ng-container *ngIf="editingName">
      <mat-form-field>
        <mat-label>Name</mat-label>
        <input matInput [(ngModel)]="entity.name">
      </mat-form-field>
      <button mat-button (click)="editingName=false">
        <mat-icon >check</mat-icon>
      </button>
    </ng-container>
    </mat-card-title>
  <mat-card-subtitle>
    <div *ngIf="!editingSubtitle" (click)="editingSubtitle=true">{{entity.subtitle}}</div>
    <div *ngIf="!editingSubtitle && !entity.subtitle" (click)="editingSubtitle=true">click to add subtitle</div>
    <ng-container *ngIf="editingSubtitle">
      <mat-form-field>
        <mat-label>Subtitle</mat-label>
        <input matInput [(ngModel)]="entity.subtitle">
      </mat-form-field>
      <button mat-button (click)="editingSubtitle=false">
        <mat-icon >check</mat-icon>
      </button>
    </ng-container>
    </mat-card-subtitle>
</mat-card-header>
<mat-card-content>
  <p *ngIf="!editingDesc" (click)="editingDesc=true">Description: {{entity.description}}</p>
  <ng-container *ngIf="editingDesc">
    <form>
    <mat-form-field class="example-full-width">
      <mat-label>Description</mat-label>
      <textarea  name="description" matInput [(ngModel)]="entity.description"></textarea>
    </mat-form-field>
    <button mat-button (click)="editingDesc=false">
      <mat-icon >check</mat-icon>
    </button>
  </form>
  </ng-container>

  <h4>Relationships</h4>
  <app-relationship *ngFor="let rel of entity.relationships" [relationship]='rel'></app-relationship>
</mat-card-content>
<mat-card-actions>
  <button (click)="deleteEntity()" mat-raised-button color='warning'>DELETE</button>
</mat-card-actions>
</mat-card>
